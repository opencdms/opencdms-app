{"version":3,"file":"js/3139.5c11193b.js","mappings":"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","sources":["webpack://opencdms-app/./src/models/Deployment.js","webpack://opencdms-app/./src/models/Observer.js","webpack://opencdms-app/./src/views/forms/deployment.vue","webpack://opencdms-app/./src/web-components/forms/deployment.vue","webpack://opencdms-app/./src/web-components/forms/deployment.vue?1c9f","webpack://opencdms-app/./src/views/forms/deployment.vue?1813"],"sourcesContent":["import { Model } from 'pinia-orm'\nimport LinksType from '@/models/LinksType';\nimport Host from '@/models/Host';\nimport Observer from '@/models/Observer';\nimport ReferenceSurface from '@/models/ReferenceSurface';\nimport Exposure from '@/models/Exposure';\nimport MaintenanceSchedule from '@/models/MaintenanceSchedule';\nimport User from '@/models/User';\nimport Status from '@/models/Status';\n\nexport default class Deployment extends Model {\n  static entity = 'deployment';\n  static fields() {\n    return {\n      id: this.string(''),\n      host_id: this.string(''),\n      host: this.belongsTo(Host,'host_id'),\n      observer_id: this.string(''),\n      observer: this.belongsTo(Observer,'observer_id'),\n      valid_from: this.string(''),\n      valid_to: this.string(''),\n      installation_height: this.number(null),\n      reference_surface_id: this.string(''),\n      reference_surface: this.belongsTo(ReferenceSurface,'reference_surface_id'),\n      exposure_id: this.string(''),\n      exposure: this.belongsTo(Exposure,'exposure_id'),\n      configuration: this.string(''),\n      maintenance_schedule_id: this.string(''),\n      maintenance_schedule: this.belongsTo(MaintenanceSchedule,'maintenance_schedule_id'),\n      _version: this.number(null),\n      _change_date: this.string(''),\n      _user_id: this.string(''),\n      _user: this.belongsTo(User,'_user_id'),\n      _status_id: this.string(''),\n      _status: this.belongsTo(Status,'_status_id'),\n      comments: this.string('')\n    };\n  };\n};\n\n","import { Model } from 'pinia-orm'\nimport LinksType from '@/models/LinksType';\nimport ControlSchedule from '@/models/ControlSchedule';\nimport User from '@/models/User';\nimport Status from '@/models/Status';\n\nexport default class Observer extends Model {\n  static entity = 'observer';\n  static fields() {\n    return {\n      id: this.string(''),\n      name: this.string(''),\n      description: this.string(''),\n      links: this.attr(new LinksType([])),\n      location: this.string(''),\n      elevation: this.number(null),\n      manufacturer: this.string(''),\n      model: this.string(''),\n      serial_number: this.string(''),\n      firmware_version: this.string(''),\n      control_schedule_id: this.string(''),\n      control_schedule: this.belongsTo(ControlSchedule,'control_schedule_id'),\n      _version: this.number(null),\n      _change_date: this.string(''),\n      _user_id: this.string(''),\n      _user: this.belongsTo(User,'_user_id'),\n      _status_id: this.string(''),\n      _status: this.belongsTo(Status,'_status_id'),\n      comments: this.string('')\n    };\n  };\n};\n\n","<template>\n  <div>\n    <Deployment/>\n  </div>\n</template>\n\n<script>\nimport Deployment from '@/web-components/forms/deployment.vue';\n\nexport default {\n  name: 'deploymentForm',\n  components: {\n    Deployment\n  },\n};\n</script>\n\n<style>\n</style>\n","<template>\n  <v-card>\n    <v-card-title>Create new 'Deployment'</v-card-title>\n    <v-card-text>\n        <v-form>\n            <v-card-item><v-text-field label=\"id\" v-model=\"deployment.id\"  hint=\"Unique ID / primary key for deployment\" persistent-hint></v-text-field></v-card-item>\n            <v-card-item><v-select :items=\"hostOptions\" item-title=\"name\" item-value=\"id\" label=\"host\" v-model=\"deployment.host\" :hint=\"hostOptionsHint\" return-object persistent-hint></v-select></v-card-item>\n            <v-card-item><v-select :items=\"observerOptions\" item-title=\"name\" item-value=\"id\" label=\"observer\" v-model=\"deployment.observer\" :hint=\"observerOptionsHint\" return-object persistent-hint></v-select></v-card-item>\n            <v-card-item><VueDatePicker label=\"valid_from\" v-model=\"deployment.valid_from\"  hint=\"\" persistent-hint></VueDatePicker></v-card-item>\n            <v-card-item><VueDatePicker label=\"valid_to\" v-model=\"deployment.valid_to\"  hint=\"\" persistent-hint></VueDatePicker></v-card-item>\n            <v-card-item><v-text-field label=\"installation_height\" v-model=\"deployment.installation_height\" type=\"number\" hint=\"Installation height above reference surface (in meters)\" persistent-hint></v-text-field></v-card-item>\n            <v-card-item><v-select :items=\"referenceSurfaceOptions\" item-title=\"name\" item-value=\"id\" label=\"reference_surface\" v-model=\"deployment.reference_surface\" :hint=\"referenceSurfaceOptionsHint\" return-object persistent-hint></v-select></v-card-item>\n            <v-card-item><v-select :items=\"exposureOptions\" item-title=\"name\" item-value=\"id\" label=\"exposure\" v-model=\"deployment.exposure\" :hint=\"exposureOptionsHint\" return-object persistent-hint></v-select></v-card-item>\n            <v-card-item><v-text-field label=\"configuration\" v-model=\"deployment.configuration\"  hint=\"Textual description of sensor installation and configuration\" persistent-hint></v-text-field></v-card-item>\n            <v-card-item><v-select :items=\"maintenanceScheduleOptions\" item-title=\"name\" item-value=\"id\" label=\"maintenance_schedule\" v-model=\"deployment.maintenance_schedule\" :hint=\"maintenanceScheduleOptionsHint\" return-object persistent-hint></v-select></v-card-item>\n            <v-card-item><v-text-field label=\"_version\" v-model=\"deployment._version\" type=\"number\" hint=\"Version number of this record\" persistent-hint></v-text-field></v-card-item>\n            <v-card-item><VueDatePicker label=\"_change_date\" v-model=\"deployment._change_date\"  hint=\"Date this record was changed\" persistent-hint></VueDatePicker></v-card-item>\n            <v-card-item><v-select :items=\"userOptions\" item-title=\"name\" item-value=\"id\" label=\"user\" v-model=\"deployment._user\" :hint=\"userOptionsHint\" return-object persistent-hint></v-select></v-card-item>\n            <v-card-item><v-select :items=\"statusOptions\" item-title=\"name\" item-value=\"id\" label=\"status\" v-model=\"deployment._status\" :hint=\"statusOptionsHint\" return-object persistent-hint></v-select></v-card-item>\n            <v-card-item><v-text-field label=\"comments\" v-model=\"deployment.comments\"  hint=\"Free text comments on this record, for example description of changes made etc\" persistent-hint></v-text-field></v-card-item>\n        </v-form>\n        <v-btn @click=\"createDeployment\">Create Deployment</v-btn>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport { defineComponent, ref, computed } from 'vue';\nimport { VCard, VCardTitle, VCardText, VCardItem, VForm, VTextField, VSelect, VBtn } from 'vuetify/lib/components';\nimport { onBeforeMount, onMounted, onBeforeUpdate, onUpdated, onBeforeUnmount, onUnmounted, onErrorCaptured} from 'vue';\nimport {useStore} from 'pinia';\nimport {useRepo} from 'pinia-orm';\n\nimport LinkForm from '@/web-components/forms/links';\nimport VueDatePicker from '@/web-components/pickers/date-picker.vue';\n\n\nimport Host from '@/models/Host';\nimport Observer from '@/models/Observer';\nimport ReferenceSurface from '@/models/ReferenceSurface';\nimport Exposure from '@/models/Exposure';\nimport MaintenanceSchedule from '@/models/MaintenanceSchedule';\nimport User from '@/models/User';\nimport Status from '@/models/Status';\n\n// import model\nimport Deployment from '@/models/Deployment';\n\nexport default defineComponent({\n  name: 'DeploymentForm',\n  props: {\n  },\n  methods:{\n    parseLinks (links) {\n      let res;\n      if( links && links.length > 0 ){\n        res = JSON.stringify(links);\n      }else{\n        res = '';\n      }\n      return res;\n    }\n  },\n  components: {\n    VCard,\n    VCardTitle,\n    VCardText,\n    VCardItem,\n    VTextField,\n    VSelect,\n    VForm,\n    VBtn,\n    VueDatePicker,\n    LinkForm\n  },\n  setup() {\n\n    // set up links object\n    const links = ref([]);\n    const updateLinks = (updatedLinks) => {\n      console.log(\"updating links\");\n      deployment.value.links = updatedLinks;\n    }\n\n    // set up repos\n    const hostRepo = useRepo(Host);\n    const hostOptions = computed(() => { return hostRepo.all() });\n    const hostOptionsHint = computed(() => {\n      if( deployment.value.host !== null ){\n        if ( 'description' in deployment.value.host ){\n          return deployment.value.host.description;\n        }else{\n          return \"\";\n        }\n      }else{\n        return \"Select host\";\n      }\n    } );\n    const observerRepo = useRepo(Observer);\n    const observerOptions = computed(() => { return observerRepo.all() });\n    const observerOptionsHint = computed(() => {\n      if( deployment.value.observer !== null ){\n        if ( 'description' in deployment.value.observer ){\n          return deployment.value.observer.description;\n        }else{\n          return \"\";\n        }\n      }else{\n        return \"Select observer\";\n      }\n    } );\n    const referenceSurfaceRepo = useRepo(ReferenceSurface);\n    const referenceSurfaceOptions = computed(() => { return referenceSurfaceRepo.all() });\n    const referenceSurfaceOptionsHint = computed(() => {\n      if( deployment.value.reference_surface !== null ){\n        if ( 'description' in deployment.value.reference_surface ){\n          return deployment.value.reference_surface.description;\n        }else{\n          return \"\";\n        }\n      }else{\n        return \"Select reference_surface\";\n      }\n    } );\n    const exposureRepo = useRepo(Exposure);\n    const exposureOptions = computed(() => { return exposureRepo.all() });\n    const exposureOptionsHint = computed(() => {\n      if( deployment.value.exposure !== null ){\n        if ( 'description' in deployment.value.exposure ){\n          return deployment.value.exposure.description;\n        }else{\n          return \"\";\n        }\n      }else{\n        return \"Select exposure\";\n      }\n    } );\n    const maintenanceScheduleRepo = useRepo(MaintenanceSchedule);\n    const maintenanceScheduleOptions = computed(() => { return maintenanceScheduleRepo.all() });\n    const maintenanceScheduleOptionsHint = computed(() => {\n      if( deployment.value.maintenance_schedule !== null ){\n        if ( 'description' in deployment.value.maintenance_schedule ){\n          return deployment.value.maintenance_schedule.description;\n        }else{\n          return \"\";\n        }\n      }else{\n        return \"Select maintenance_schedule\";\n      }\n    } );\n    const userRepo = useRepo(User);\n    const userOptions = computed(() => { return userRepo.all() });\n    const userOptionsHint = computed(() => {\n      if( deployment.value._user !== null ){\n        if ( 'description' in deployment.value._user ){\n          return deployment.value._user.description;\n        }else{\n          return \"\";\n        }\n      }else{\n        return \"Select user\";\n      }\n    } );\n    const statusRepo = useRepo(Status);\n    const statusOptions = computed(() => { return statusRepo.all() });\n    const statusOptionsHint = computed(() => {\n      if( deployment.value._status !== null ){\n        if ( 'description' in deployment.value._status ){\n          return deployment.value._status.description;\n        }else{\n          return \"\";\n        }\n      }else{\n        return \"Select status\";\n      }\n    } );\n\n    const deploymentRepo = useRepo(Deployment);\n    const deployment = ref(deploymentRepo.make());\n\n    // function to create new object and to add to store\n    const createDeployment = async () => {\n        let valueToSave = {};\n        Object.assign(valueToSave,deployment.value);\n        await deploymentRepo.save(valueToSave);\n        resetDeployment();\n    };\n\n    const resetDeployment = () => {\n        Object.assign(deployment.value, deploymentRepo.make() );\n    };\n\n    return {\n        deployment,\n        createDeployment,\n        resetDeployment,\n        links,\n        updateLinks,\n        hostOptions, hostOptionsHint,\n        observerOptions, observerOptionsHint,\n        referenceSurfaceOptions, referenceSurfaceOptionsHint,\n        exposureOptions, exposureOptionsHint,\n        maintenanceScheduleOptions, maintenanceScheduleOptionsHint,\n        userOptions, userOptionsHint,\n        statusOptions, statusOptionsHint\n    }\n  }\n});\n</script>\n","import { render } from \"./deployment.vue?vue&type=template&id=0a30b37a\"\nimport script from \"./deployment.vue?vue&type=script&lang=js\"\nexport * from \"./deployment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\work\\\\projects\\\\opencdms\\\\git\\\\tmp\\\\opencdms-app-cg19\\\\opencdms-app-cg19-mine\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./deployment.vue?vue&type=template&id=e1de18ea\"\nimport script from \"./deployment.vue?vue&type=script&lang=js\"\nexport * from \"./deployment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\work\\\\projects\\\\opencdms\\\\git\\\\tmp\\\\opencdms-app-cg19\\\\opencdms-app-cg19-mine\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["Deployment","Model","static","id","this","string","host_id","host","belongsTo","Host","observer_id","observer","Observer","valid_from","valid_to","installation_height","number","reference_surface_id","reference_surface","ReferenceSurface","exposure_id","exposure","Exposure","configuration","maintenance_schedule_id","maintenance_schedule","MaintenanceSchedule","_version","_change_date","_user_id","_user","User","_status_id","_status","Status","comments","name","description","links","attr","LinksType","location","elevation","manufacturer","model","serial_number","firmware_version","control_schedule_id","control_schedule","ControlSchedule","_createElementBlock","_createVNode","_component_Deployment","_createBlock","_component_v_card","_component_v_card_title","_component_v_card_text","_component_v_form","_component_v_card_item","_component_v_text_field","label","_ctx","hint","_component_v_select","items","_component_VueDatePicker","type","_component_v_btn","onClick","defineComponent","props","methods","parseLinks","res","length","JSON","stringify","components","VCard","VCardTitle","VCardText","VCardItem","VTextField","VSelect","VForm","VBtn","VueDatePicker","LinkForm","setup","ref","updateLinks","updatedLinks","console","log","deployment","value","hostRepo","useRepo","hostOptions","computed","all","hostOptionsHint","observerRepo","observerOptions","observerOptionsHint","referenceSurfaceRepo","referenceSurfaceOptions","referenceSurfaceOptionsHint","exposureRepo","exposureOptions","exposureOptionsHint","maintenanceScheduleRepo","maintenanceScheduleOptions","maintenanceScheduleOptionsHint","userRepo","userOptions","userOptionsHint","statusRepo","statusOptions","statusOptionsHint","deploymentRepo","make","createDeployment","async","valueToSave","Object","assign","save","resetDeployment","__exports__","render"],"sourceRoot":""}