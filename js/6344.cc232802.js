"use strict";(self["webpackChunkopencdms_app"]=self["webpackChunkopencdms_app"]||[]).push([[6344,1995],{6344:function(e,l,t){t.r(l),t.d(l,{default:function(){return L}});var n=t(3396);function o(e,l,t,o,r,a){const i=(0,n.up)("Record",!0);return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(i)])}function r(e,l,t,o,r,a){const i=(0,n.up)("v-card-title"),d=(0,n.up)("v-text-field"),u=(0,n.up)("v-card-item"),s=(0,n.up)("LinkForm"),c=(0,n.up)("v-form"),m=(0,n.up)("v-btn"),p=(0,n.up)("v-card-text"),f=(0,n.up)("v-card");return(0,n.wg)(),(0,n.j4)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Create new 'Record'")])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"id",modelValue:e.record.id,"onUpdate:modelValue":l[0]||(l[0]=l=>e.record.id=l),hint:"A unique identifier of the catalogue record.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"time",modelValue:e.record.time,"onUpdate:modelValue":l[1]||(l[1]=l=>e.record.time=l),hint:"The temporal extent of the resource. Can be null if there is no associated temporal extent.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"title",modelValue:e.record.title,"onUpdate:modelValue":l[2]||(l[2]=l=>e.record.title=l),hint:"A human-readable name given to the resource.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"location",modelValue:e.record.location,"onUpdate:modelValue":l[3]||(l[3]=l=>e.record.location=l),hint:"A geometry associated with the resource that is used for discovery. Can be null if there is no associated geometry.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"created",modelValue:e.record.created,"onUpdate:modelValue":l[4]||(l[4]=l=>e.record.created=l),hint:"Date of creation of this record.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"updated",modelValue:e.record.updated,"onUpdate:modelValue":l[5]||(l[5]=l=>e.record.updated=l),hint:"The most recent date on which the record was changed.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"resource_type",modelValue:e.record.resource_type,"onUpdate:modelValue":l[6]||(l[6]=l=>e.record.resource_type=l),hint:"The nature or genre of the resource. The value should be a code, convenient for filtering records. Where available, a link to the canonical URI of the record type resource will be added to the 'links' property.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"description",modelValue:e.record.description,"onUpdate:modelValue":l[7]||(l[7]=l=>e.record.description=l),hint:"A free-text account of the resource.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"keywords",modelValue:e.record.keywords,"onUpdate:modelValue":l[8]||(l[8]=l=>e.record.keywords=l),hint:"The topic or topics of the resource. Typically represented using free-form keywords, tags, key phrases, or classification codes. Semi-colon delimited","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"language",modelValue:e.record.language,"onUpdate:modelValue":l[9]||(l[9]=l=>e.record.language=l),hint:"The natural language used for textual values (e.g. titles, descriptions, etc.) of the resource. ISO 639-1/639-2 codes should be used.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"external_ids",modelValue:e.record.external_ids,"onUpdate:modelValue":l[10]||(l[10]=l=>e.record.external_ids=l),hint:"An identifier for the resource assigned by an external (to the catalogue) entity.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"themes",modelValue:e.record.themes,"onUpdate:modelValue":l[11]||(l[11]=l=>e.record.themes=l),hint:"A knowledge organization system used to classify the resource.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"formats",modelValue:e.record.formats,"onUpdate:modelValue":l[12]||(l[12]=l=>e.record.formats=l),hint:"A list of available distributions of the resource.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"providers",modelValue:e.record.providers,"onUpdate:modelValue":l[13]||(l[13]=l=>e.record.providers=l),hint:"A list of providers qualified by their role in association to the record.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"license",modelValue:e.record.license,"onUpdate:modelValue":l[14]||(l[14]=l=>e.record.license=l),hint:"A legal document under which the resource is made available. The value should be a code, convenient for filtering the records. Where applicable, the use of the identifiers from the SPDX License List is recommended. If multiple licenses apply, it is recommended to use ''various'.  Where available, links to a URI of each applicable license should be added to the 'links' property.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{label:"rights",modelValue:e.record.rights,"onUpdate:modelValue":l[15]||(l[15]=l=>e.record.rights=l),hint:"A statement that concerns all rights not addressed by the license such as a copyright statement.","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{links:e.links,onUpdateLinks:e.updateLinks},null,8,["links","onUpdateLinks"])])),_:1})])),_:1}),(0,n.Wm)(m,{onClick:e.createRecord},{default:(0,n.w5)((()=>[(0,n.Uk)("Create Record")])),_:1},8,["onClick"])])),_:1})])),_:1})}t(774);var a=t(4870),i=t(3238),d=t(6572),u=t(1888),s=t(6596),c=t(2900),m=t(240),p=t(6422),f=t(870),h=t(3968),V=t(1995),v=t(8394),g=t(7327),k=t(2407);class w extends h.Hn{static fields(){return{id:this.string(""),time:this.string(""),title:this.string(""),location:this.string(""),created:this.string(""),updated:this.string(""),resource_type:this.string(""),description:this.string(""),keywords:this.string(""),language:this.string(""),external_ids:this.attr(null),themes:this.attr(null),formats:this.attr(null),providers:this.attr(null),license:this.string(""),rights:this.string(""),links:this.attr(new k.Z([]))}}}(0,g.Z)(w,"entity","record");var b=(0,n.aZ)({name:"RecordForm",props:{},methods:{parseLinks(e){let l;return l=e&&e.length>0?JSON.stringify(e):"",l}},components:{VCard:i._,VCardTitle:d.E,VCardText:u.Z,VCardItem:s._,VTextField:c.hw,VSelect:m.r,VForm:p.O,VBtn:f.T,VueDatePicker:v.Z,LinkForm:V.Z},setup(){const e=(0,a.iH)([]),l=e=>{console.log("updating links"),n.value.links=e},t=(0,h.lL)(w),n=(0,a.iH)(t.make()),o=async()=>{let e={};Object.assign(e,n.value),await t.save(e),r()},r=()=>{Object.assign(n.value,t.make())};return{record:n,createRecord:o,resetRecord:r,links:e,updateLinks:l}}}),W=t(89);const y=(0,W.Z)(b,[["render",r]]);var _=y,U={name:"recordForm",components:{Record:_}};const C=(0,W.Z)(U,[["render",o]]);var L=C},1995:function(e,l,t){t.d(l,{Z:function(){return g}});var n=t(3396);function o(e,l,t,o,r,a){const i=(0,n.up)("v-card-title"),d=(0,n.up)("v-text-field"),u=(0,n.up)("v-col"),s=(0,n.up)("v-icon"),c=(0,n.up)("v-btn"),m=(0,n.up)("v-row"),p=(0,n.up)("v-container"),f=(0,n.up)("v-card"),h=(0,n.up)("v-form");return(0,n.wg)(),(0,n.j4)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Add / edit links")])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.links,((t,o)=>((0,n.wg)(),(0,n.j4)(f,{key:o},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{cols:"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{modelValue:t.rel,"onUpdate:modelValue":[e=>t.rel=e,l[0]||(l[0]=l=>e.value=l)],label:"rel",hint:"IANA link relation, e.g. canonical, alternate","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,n.Wm)(u,{cols:"3"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{modelValue:t.href,"onUpdate:modelValue":[e=>t.href=e,l[1]||(l[1]=l=>e.value=l)],label:"href",hint:"URL for link","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,n.Wm)(u,{cols:"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{modelValue:t.type,"onUpdate:modelValue":[e=>t.type=e,l[2]||(l[2]=l=>e.value=l)],label:"link type",hint:"Result/link type, e.g. text/html","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,n.Wm)(u,{cols:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{modelValue:t.title,"onUpdate:modelValue":[e=>t.title=e,l[3]||(l[3]=l=>e.value=l)],label:"title",hint:"Title / name of link","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,n.Wm)(u,{cols:"1"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{color:"error",onClick:()=>e.removeLink(o)},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,n.Wm)(c,{color:"green",onClick:e.addLink},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})}t(7658);var r=t(4870),a=t(6422),i=t(2900),d=t(3238),u=t(6572),s=t(870),c=t(3289),m=t(3369),p=t(6824),f=t(8521),h=(0,n.aZ)({name:"LinkForm",components:{VForm:a.O,VTextField:i.hw,VCard:d._,VCardTitle:u.E,VBtn:s.T,VIcon:c.t,VContainer:m.K,VRow:p.o,VCol:f.D},props:{links:{type:Array,required:!0}},emits:["updateLinks"],setup(e,l){const t=(0,r.iH)(""),o=(0,r.iH)(""),a=(0,r.iH)(e.links);(0,n.YP)((()=>e.links),(e=>{a.value="string"===typeof e?JSON.parse(e):e}),{immediate:!0,deep:!0}),(0,n.YP)((()=>a.value),(e=>{l.emit("updateLinks",e)}),{deep:!0});const i=()=>{a.value.push({rel:"",href:"",type:"",title:""})},d=e=>{a.value=a.value.filter(((l,t)=>t!==e))};return{name:t,description:o,location:location,links:a,addLink:i,removeLink:d}}}),V=t(89);const v=(0,V.Z)(h,[["render",o]]);var g=v},6422:function(e,l,t){t.d(l,{O:function(){return u}});var n=t(3396),o=t(4357),r=t(3185),a=t(4870),i=t(320),d=t(9888);const u=(0,i.ev)()({name:"VForm",props:{...(0,o.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:i}=l;const u=(0,o.Np)(e),s=(0,a.iH)();function c(e){e.preventDefault(),u.reset()}function m(e){const l=e,t=u.validate();l.then=t.then.bind(t),l.catch=t.catch.bind(t),l.finally=t.finally.bind(t),i("submit",l),l.defaultPrevented||t.then((e=>{let{valid:l}=e;l&&s.value?.submit()})),l.preventDefault()}return(0,d.L)((()=>(0,n.Wm)("form",{ref:s,class:"v-form",novalidate:!0,onReset:c,onSubmit:m},[t.default?.(u)]))),(0,r.F)(u,s)}})},8521:function(e,l,t){t.d(l,{D:function(){return f}});t(7658),t(8099);var n=t(1138),o=t(7139),r=t(3396),a=t(320);const i=["sm","md","lg","xl","xxl"],d=(()=>i.reduce(((e,l)=>(e[l]={type:[Boolean,String,Number],default:!1},e)),{}))(),u=(()=>i.reduce(((e,l)=>(e["offset"+(0,o.kC)(l)]={type:[String,Number],default:null},e)),{}))(),s=(()=>i.reduce(((e,l)=>(e["order"+(0,o.kC)(l)]={type:[String,Number],default:null},e)),{}))(),c={col:Object.keys(d),offset:Object.keys(u),order:Object.keys(s)};function m(e,l,t){let n=e;if(null!=t&&!1!==t){if(l){const t=l.replace(e,"");n+=`-${t}`}return"col"===e&&(n="v-"+n),"col"!==e||""!==t&&!0!==t?(n+=`-${t}`,n.toLowerCase()):n.toLowerCase()}}const p=["auto","start","end","center","baseline","stretch"],f=(0,a.ev)()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...d,offset:{type:[String,Number],default:null},...u,order:{type:[String,Number],default:null},...s,alignSelf:{type:String,default:null,validator:e=>p.includes(e)},...(0,n.Q)()},setup(e,l){let{slots:t}=l;const n=(0,r.Fl)((()=>{const l=[];let t;for(t in c)c[t].forEach((n=>{const o=e[n],r=m(t,n,o);r&&l.push(r)}));const n=l.some((e=>e.startsWith("v-col-")));return l.push({"v-col":!n||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),l}));return()=>(0,r.h)(e.tag,{class:n.value},t.default?.())}})}}]);
//# sourceMappingURL=6344.cc232802.js.map