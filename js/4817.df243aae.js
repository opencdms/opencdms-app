"use strict";(self["webpackChunkopencdms_app"]=self["webpackChunkopencdms_app"]||[]).push([[4817],{8227:function(e,t,l){l.r(t),l.d(t,{default:function(){return F}});var a=l(3396);function n(e,t,l,n,o,r){const u=(0,a.up)("data-station",!0);return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u)])}var o=l(7139);function r(e,t,l,n,r,u){const s=(0,a.up)("v-card-title"),d=(0,a.up)("select-host"),c=(0,a.up)("v-card-text"),i=(0,a.up)("v-card"),m=(0,a.up)("v-col"),p=(0,a.up)("v-row"),f=(0,a.up)("select-observed-property"),v=(0,a.up)("VueDatePicker"),h=(0,a.up)("v-container"),V=(0,a.up)("v-card-item");return(0,a.wg)(),(0,a.j4)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{cols:12},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Select station")])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:e.selectedHost,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedHost=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p),e.host?((0,a.wg)(),(0,a.j4)(p,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{cols:12},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Select from available data for "+(0,o.zw)(e.$route.params.id),1)])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{height:"400px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{cols:4},{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1}),(0,a.Wm)(m,{cols:4},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{"enable-time-picker":!1,label:"phenomenon_start",modelValue:e.start_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.start_date=t),hint:"Phenomenon start date","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{cols:4},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{"enable-time-picker":!1,label:"phenomenon_end",modelValue:e.end_date,"onUpdate:modelValue":t[2]||(t[2]=t=>e.end_date=t),hint:"Phenomenon end date","persistent-hint":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1})}l(7658);var u=l(4870),s=l(3238),d=l(6572),c=l(1888),i=l(6596),m=l(3144),p=l(9870),f=l(870),v=l(2650),h=l(3369),V=l(8521),w=l(6824),_=l(2483),b=l(3968),y=l(839),g=l(7757),W=l(1475),k=l(5206);(0,u.iH)(),(0,u.iH)();var S=(0,a.aZ)({name:"station",components:{VCard:s._,VCardTitle:d.E,VCardText:c.Z,VCardItem:i._,VTabs:m.d,VTab:p.L,VBtn:f.T,VAutocomplete:v.f,VContainer:h.K,VCol:V.D,VRow:w.o,SelectHost:y.Z,SelectObservedProperty:g.Z,VueDatePicker:W.Z},methods:{},setup(e){const t=(0,u.iH)(null),l=(0,_.tv)(),n=(0,u.iH)(null),o=(0,b.lL)(k.Z),r=(0,a.Fl)((()=>o.all())),s=(0,u.iH)(null),d=()=>{l.push("/data/station/"+i.params.id+"/edit")},c=async e=>{s.value=(0,b.lL)(k.Z).where("id",i.params.id).first()};(0,a.YP)(s,(e=>{if(e){const t=e.location.match(/POINT\(([-\d\.]+)\s+([-\d\.]+)\)/),l=[parseFloat(t[1]),parseFloat(t[2])];n.value={type:"Feature",geometry:{type:"Point",coordinates:l}}}console.log(n.value)}));const i=(0,_.yj)();(0,u.iH)([]);return(0,a.bv)((async()=>{c(i.params.id),(0,a.m0)((()=>{c(i.params.id)})),(0,a.YP)(t,(e=>{l.push("/data/station/"+e.id)}))})),(0,a.d1)((()=>{})),{host:s,edit:d,hostOptions:r,selectedHost:t,geom:n}}}),C=l(89);const Z=(0,C.Z)(S,[["render",r]]);var H=Z,P={name:"MyView",components:{DataStation:H}};const j=(0,C.Z)(P,[["render",n]]);var F=j},7757:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(3396);function n(e,t,l,n,o,r){const u=(0,a.up)("v-autocomplete");return(0,a.wg)(),(0,a.j4)(u,{items:e.options,"item-title":"short_name","item-value":"id",label:"observed property",modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected=t),hint:e.selected?e.selected.standard_name:"Select an observed property","persistent-hint":"","return-object":""},null,8,["items","modelValue","hint"])}var o=l(2302),r=l(3968),u=l(4870),s=l(2650),d=(0,a.aZ)({name:"SelectObservedProperty",components:{VAutocomplete:s.f},emits:["update:modelValue"],setup(e,{emit:t}){const l=(0,u.iH)(null),n=(0,a.Fl)((()=>(0,r.lL)(o.Z).all()));console.log(n);(0,a.Fl)((()=>{}));return(0,a.YP)((()=>l.value),(e=>{t("update:modelValue",e)})),{selected:l,options:n}}}),c=l(89);const i=(0,c.Z)(d,[["render",n]]);var m=i},8521:function(e,t,l){l.d(t,{D:function(){return f}});l(7658),l(8099);var a=l(1138),n=l(7139),o=l(3396),r=l(320);const u=["sm","md","lg","xl","xxl"],s=(()=>u.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),d=(()=>u.reduce(((e,t)=>(e["offset"+(0,n.kC)(t)]={type:[String,Number],default:null},e)),{}))(),c=(()=>u.reduce(((e,t)=>(e["order"+(0,n.kC)(t)]={type:[String,Number],default:null},e)),{}))(),i={col:Object.keys(s),offset:Object.keys(d),order:Object.keys(c)};function m(e,t,l){let a=e;if(null!=l&&!1!==l){if(t){const l=t.replace(e,"");a+=`-${l}`}return"col"===e&&(a="v-"+a),"col"!==e||""!==l&&!0!==l?(a+=`-${l}`,a.toLowerCase()):a.toLowerCase()}}const p=["auto","start","end","center","baseline","stretch"],f=(0,r.ev)()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...s,offset:{type:[String,Number],default:null},...d,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:e=>p.includes(e)},...(0,a.Q)()},setup(e,t){let{slots:l}=t;const a=(0,o.Fl)((()=>{const t=[];let l;for(l in i)i[l].forEach((a=>{const n=e[a],o=m(l,a,n);o&&t.push(o)}));const a=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>(0,o.h)(e.tag,{class:a.value},l.default?.())}})}}]);
//# sourceMappingURL=4817.df243aae.js.map