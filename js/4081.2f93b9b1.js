"use strict";(self["webpackChunkopencdms_app"]=self["webpackChunkopencdms_app"]||[]).push([[4081],{4081:function(e,t,l){l.r(t),l.d(t,{default:function(){return V}});var n=l(3396);function a(e,t,l,a,o,u){const i=(0,n.up)("select-host",!0),r=(0,n.up)("select-observed-property"),s=(0,n.up)("VueDatePicker"),c=(0,n.up)("v-row"),p=(0,n.up)("v-card-title"),d=(0,n.up)("Line"),m=(0,n.up)("v-card-item"),v=(0,n.up)("v-card"),f=(0,n.up)("v-container");return(0,n.wg)(),(0,n.j4)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i),(0,n.Wm)(r),(0,n.Wm)(s,{range:""})])),_:1}),(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[e.obsLoaded?((0,n.wg)(),(0,n.j4)(v,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Example line plot")])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{data:e.chartData},null,8,["data"])])),_:1})])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1})}var o=l(839);function u(e,t,l,a,o,u){const i=(0,n.up)("v-autocomplete");return(0,n.wg)(),(0,n.j4)(i,{items:e.options,"item-title":"short_name","item-value":"id",label:"observed property",modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected=t),hint:e.selected?e.selected.standard_name:"Select an observed property","persistent-hint":"","return-object":""},null,8,["items","modelValue","hint"])}var i=l(2302),r=l(3968),s=l(4870),c=l(2650),p=(0,n.aZ)({name:"SelectObservedProperty",components:{VAutocomplete:c.f},emits:["update:modelValue"],setup(e,{emit:t}){const l=(0,s.iH)(null),a=(0,n.Fl)((()=>(0,r.lL)(i.Z).all()));console.log(a);(0,n.Fl)((()=>{}));return(0,n.YP)((()=>l.value),(e=>{t("update:modelValue",e)})),{selected:l,options:a}}}),d=l(89);const m=(0,d.Z)(p,[["render",u]]);var v=m,f=l(8394),h=l(3369),y=l(6824),g=l(1475),w={name:"",components:{SelectHost:o.Z,SelectObservedProperty:v,SelectDate:f.Z,VueDatePicker:g.Z,VContainer:h.K,VRow:y.o},setup(){const e=(0,s.iH)();return{date:e}}};const k=(0,d.Z)(w,[["render",a]]);var V=k},839:function(e,t,l){l.d(t,{Z:function(){return d}});var n=l(3396);function a(e,t,l,a,o,u){const i=(0,n.up)("v-autocomplete");return(0,n.wg)(),(0,n.j4)(i,{items:e.options,"item-title":"name","item-value":"id",label:"host",modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected=t),hint:e.selected?e.selected.name:"Select a host","persistent-hint":"","return-object":""},null,8,["items","modelValue","hint"])}var o=l(5206),u=l(3968),i=l(4870),r=l(2650),s=(0,n.aZ)({name:"SelectHost",components:{VAutocomplete:r.f},emits:["update:modelValue"],setup(e,{emit:t}){const l=(0,i.iH)(null),a=(0,n.Fl)((()=>(0,u.lL)(o.Z).all()));console.log(a);(0,n.Fl)((()=>{}));return(0,n.YP)((()=>l.value),(e=>{t("update:modelValue",e)})),{selected:l,options:a}}}),c=l(89);const p=(0,c.Z)(s,[["render",a]]);var d=p},2650:function(e,t,l){l.d(t,{f:function(){return W}});var n=l(3396),a=l(240),o=l(1550),u=l(7103),i=l(836),r=l(6052),s=l(9457),c=l(8971),p=l(2900),d=l(3185),m=l(1819),v=l(4906),f=l(4357),h=l(6185),y=l(1629),g=l(8717),w=l(4870),k=l(320),V=l(131),F=l(9888);function b(e,t,l){if(null==t)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return"number"===typeof t&&~t?(0,n.Wm)(n.HY,null,[(0,n.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),(0,n.Wm)("span",{class:"v-autocomplete__mask"},[e.substr(t,l)]),(0,n.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(t+l)])]):e}const W=(0,k.ev)()({name:"VAutocomplete",props:{search:String,...(0,m.Up)({filterKeys:["title"]}),...(0,a.f)(),...(0,V.CE)((0,p.wG)({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...(0,v.X)({transition:!1})},emits:{"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:l}=t;const{t:a}=(0,y.bU)(),v=(0,w.iH)(),k=(0,w.iH)(!1),W=(0,w.iH)(!0),_=(0,w.iH)(),C=(0,g.z)(e,"menu"),S=(0,n.Fl)({get:()=>C.value,set:e=>{C.value&&!e&&_.value?.Î¨openChildren||(C.value=e)}}),{items:H,transformIn:M,transformOut:U}=(0,h.Ce)(e),x=(0,g.z)(e,"search",""),D=(0,g.z)(e,"modelValue",[],(e=>M((0,V.FT)(e))),(t=>{const l=U(t);return e.multiple?l:l[0]??null})),K=(0,f.cI)(),{filteredItems:j,getMatches:A}=(0,m.L0)(e,H,(0,n.Fl)((()=>W.value?void 0:x.value))),I=(0,n.Fl)((()=>D.value.map((t=>H.value.find((l=>e.valueComparator(l.value,t.value)))||t)))),L=(0,n.Fl)((()=>e.hideSelected?j.value.filter((e=>!I.value.some((t=>t.value===e.value)))):j.value)),O=(0,n.Fl)((()=>I.value.map((e=>e.props.value)))),P=(0,w.iH)();function Z(t){e.openOnClear&&(S.value=!0),x.value=""}function E(){e.hideNoData&&!H.value.length||e.readonly||K?.isReadonly.value||(S.value=!0)}function Y(t){e.readonly||K?.isReadonly.value||(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(S.value=!0),["Escape"].includes(t.key)&&(S.value=!1),["Enter","Escape","Tab"].includes(t.key)&&(W.value=!0),"ArrowDown"===t.key?P.value?.focus("next"):"ArrowUp"===t.key&&P.value?.focus("prev"))}function T(e){x.value=e.target.value}function z(){k.value&&(W.value=!0)}function G(e){k.value=!0}function N(e){null==e.relatedTarget&&v.value?.focus()}const R=(0,w.iH)(!1);function q(t){if(e.multiple){const l=O.value.findIndex((l=>e.valueComparator(l,t.value)));if(-1===l)D.value=[...D.value,t],x.value="";else{const e=[...D.value];e.splice(l,1),D.value=e}}else D.value=[t],R.value=!0,l.selection||(x.value=t.title),S.value=!1,W.value=!0,(0,n.Y3)((()=>R.value=!1))}return(0,n.YP)(k,(t=>{t?(R.value=!0,x.value=e.multiple||l.selection?"":String(I.value.at(-1)?.props.title??""),W.value=!0,(0,n.Y3)((()=>R.value=!1))):(S.value=!1,x.value="")})),(0,n.YP)(x,(e=>{k.value&&!R.value&&(e&&(S.value=!0),W.value=!e)})),(0,F.L)((()=>{const t=!(!e.chips&&!l.chip),d=!!(!e.hideNoData||L.value.length||l.prepend||l.append||l["no-data"]),[m]=(0,p.a)(e);return(0,n.Wm)(p.hw,(0,n.dG)({ref:v},m,{modelValue:x.value,"onUpdate:modelValue":e=>{null==e&&(D.value=[])},validationValue:D.externalValue,dirty:D.value.length>0,onInput:T,class:["v-autocomplete",{"v-autocomplete--active-menu":S.value,"v-autocomplete--chips":!!e.chips,["v-autocomplete--"+(e.multiple?"multiple":"single")]:!0,"v-autocomplete--selection-slot":!!l.selection}],appendInnerIcon:e.menuIcon,readonly:e.readonly,"onClick:clear":Z,"onMousedown:control":E,onFocus:()=>k.value=!0,onBlur:()=>k.value=!1,onKeydown:Y}),{...l,default:()=>(0,n.Wm)(n.HY,null,[(0,n.Wm)(c.T,(0,n.dG)({ref:_,modelValue:S.value,"onUpdate:modelValue":e=>S.value=e,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:z},e.menuProps),{default:()=>[d&&(0,n.Wm)(r.i,{ref:P,selected:O.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onFocusin:G,onFocusout:N},{default:()=>[!L.value.length&&!e.hideNoData&&(l["no-data"]?.()??(0,n.Wm)(s.l,{title:a(e.noDataText)},null)),l["prepend-item"]?.(),L.value.map(((t,a)=>l.item?.({item:t,index:a,props:(0,n.dG)(t.props,{onClick:()=>q(t)})})??(0,n.Wm)(s.l,(0,n.dG)({key:a},t.props,{onClick:()=>q(t)}),{prepend:t=>{let{isSelected:l}=t;return e.multiple&&!e.hideSelected?(0,n.Wm)(o.pM,{modelValue:l,ripple:!1},null):void 0},title:()=>W.value?t.title:b(t.title,A(t)?.title,x.value?.length??0)}))),l["append-item"]?.()]})]}),I.value.map(((a,o)=>{function r(e){e.stopPropagation(),e.preventDefault(),q(a)}const s={"onClick:close":r,modelValue:!0,"onUpdate:modelValue":void 0};return(0,n.Wm)("div",{key:a.value,class:"v-autocomplete__selection"},[t?(0,n.Wm)(i.z,{defaults:{VChip:{closable:e.closableChips,size:"small",text:a.title}}},{default:()=>[l.chip?l.chip({item:a,index:o,props:s}):(0,n.Wm)(u.v,s,null)]}):l.selection?l.selection({item:a,index:o}):(0,n.Wm)("span",{class:"v-autocomplete__selection-text"},[a.title,e.multiple&&o<I.value.length-1&&(0,n.Wm)("span",{class:"v-autocomplete__selection-comma"},[(0,n.Uk)(",")])])])}))])})})),(0,d.F)({isFocused:k,isPristine:W,menu:S,search:x,filteredItems:j,select:q},v)}})},1819:function(e,t,l){l.d(t,{L0:function(){return c},Up:function(){return r}});l(7658);var n=l(3766),a=l(131),o=l(3396),u=l(4870);const i=(e,t,l)=>null==e||null==t?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),r=(0,n.U)({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function s(e,t,l){const n=[],o=l?.default??i,u=!!l?.filterKeys&&(0,a.FT)(l.filterKeys),r=Object.keys(l?.customKeyFilter??{}).length;if(!e?.length)return n;e:for(let i=0;i<e.length;i++){const s=e[i],c={},p={};let d=-1;if(t&&!l?.noFilter){if("object"===typeof s){const e=u||Object.keys(s);for(const n of e){const e=(0,a.qF)(s,n,s),u=l?.customKeyFilter?.[n];if(d=u?u(e,t,s):o(e,t,s),-1!==d&&!1!==d)u?c[n]=d:p[n]=d;else if("every"===l?.filterMode)continue e}}else d=o(s,t,s),-1!==d&&!1!==d&&(p.title=d);const e=Object.keys(p).length,n=Object.keys(c).length;if(!e&&!n)continue;if("union"===l?.filterMode&&n!==r&&!e)continue;if("intersection"===l?.filterMode&&(n!==r||!e))continue}n.push({index:i,matches:{...p,...c}})}return n}function c(e,t,l,n){const a=(0,o.Fl)((()=>"string"!==typeof l?.value&&"number"!==typeof l?.value?"":String(l.value))),i=(0,u.iH)([]),r=(0,u.iH)(new Map);function c(e){return r.value.get(e.value)}return(0,o.m0)((()=>{i.value=[],r.value=new Map;const l=(0,u.SU)(t),o=s(l,a.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:(0,u.SU)(n?.filterKeys)??e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter});o.forEach((e=>{let{index:t,matches:n}=e;const a=l[t];i.value.push(a),r.value.set(a.value,n)}))})),{filteredItems:i,filteredMatches:r,getMatches:c}}}}]);
//# sourceMappingURL=4081.2f93b9b1.js.map