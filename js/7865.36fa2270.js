"use strict";(self["webpackChunkopencdms_app"]=self["webpackChunkopencdms_app"]||[]).push([[7865,1995],{7865:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var l=n(3396);function o(e,t,n,o,i,s){const a=(0,l.up)("HostEnvironment",!0);return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(a)])}function i(e,t,n,o,i,s){const a=(0,l.up)("v-card-title"),r=(0,l.up)("v-text-field"),u=(0,l.up)("v-card-item"),m=(0,l.up)("v-select"),d=(0,l.up)("VueDatePicker"),c=(0,l.up)("v-form"),p=(0,l.up)("v-btn"),h=(0,l.up)("v-card-text"),v=(0,l.up)("v-card");return(0,l.wg)(),(0,l.j4)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Create new 'HostEnvironment'")])),_:1}),(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"id",modelValue:e.hostEnvironment.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.hostEnvironment.id=t),hint:"Primary key for this record","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"host",modelValue:e.hostEnvironment.host,"onUpdate:modelValue":t[1]||(t[1]=t=>e.hostEnvironment.host=t),hint:"Host associated with this record","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{items:e.climateZoneOptions,"item-title":"name","item-value":"id",label:"climate_zone",modelValue:e.hostEnvironment.climate_zone,"onUpdate:modelValue":t[2]||(t[2]=t=>e.hostEnvironment.climate_zone=t),hint:e.climateZoneOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{items:e.surfaceCoverOptions,"item-title":"name","item-value":"id",label:"surface_cover",modelValue:e.hostEnvironment.surface_cover,"onUpdate:modelValue":t[3]||(t[3]=t=>e.hostEnvironment.surface_cover=t),hint:e.surfaceCoverOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{items:e.surfaceRoughnessOptions,"item-title":"name","item-value":"id",label:"surface_roughness",modelValue:e.hostEnvironment.surface_roughness,"onUpdate:modelValue":t[4]||(t[4]=t=>e.hostEnvironment.surface_roughness=t),hint:e.surfaceRoughnessOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{items:e.topographyOptions,"item-title":"name","item-value":"id",label:"topography",modelValue:e.hostEnvironment.topography,"onUpdate:modelValue":t[5]||(t[5]=t=>e.hostEnvironment.topography=t),hint:e.topographyOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{items:e.seasonOptions,"item-title":"name","item-value":"id",label:"season",modelValue:e.hostEnvironment.season,"onUpdate:modelValue":t[6]||(t[6]=t=>e.hostEnvironment.season=t),hint:e.seasonOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:"valid_from",modelValue:e.hostEnvironment.valid_from,"onUpdate:modelValue":t[7]||(t[7]=t=>e.hostEnvironment.valid_from=t),hint:"Date the this record is valid from","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:"valid_to",modelValue:e.hostEnvironment.valid_to,"onUpdate:modelValue":t[8]||(t[8]=t=>e.hostEnvironment.valid_to=t),hint:"date that this record is valid to","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"_version",modelValue:e.hostEnvironment._version,"onUpdate:modelValue":t[9]||(t[9]=t=>e.hostEnvironment._version=t),type:"number",hint:"Version number of this record","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:"_change_date",modelValue:e.hostEnvironment._change_date,"onUpdate:modelValue":t[10]||(t[10]=t=>e.hostEnvironment._change_date=t),hint:"Date this record was changed","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{items:e.userOptions,"item-title":"name","item-value":"id",label:"user",modelValue:e.hostEnvironment._user,"onUpdate:modelValue":t[11]||(t[11]=t=>e.hostEnvironment._user=t),hint:e.userOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{items:e.statusOptions,"item-title":"name","item-value":"id",label:"status",modelValue:e.hostEnvironment._status,"onUpdate:modelValue":t[12]||(t[12]=t=>e.hostEnvironment._status=t),hint:e.statusOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{label:"comments",modelValue:e.hostEnvironment.comments,"onUpdate:modelValue":t[13]||(t[13]=t=>e.hostEnvironment.comments=t),hint:"Free text comments on this record, for example description of changes made etc","persistent-hint":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(p,{onClick:e.createHostEnvironment},{default:(0,l.w5)((()=>[(0,l.Uk)("Create HostEnvironment")])),_:1},8,["onClick"])])),_:1})])),_:1})}n(774);var s=n(4870),a=n(3238),r=n(6572),u=n(1888),m=n(6596),d=n(2900),c=n(240),p=n(6422),h=n(870),v=n(3968),f=n(1995),_=n(8394),g=n(3188),V=n(7211),b=n(1838),W=n(3478),w=n(2761),k=n(9597),y=n(2815),E=n(7327);n(2407);class O extends v.Hn{static fields(){return{id:this.string(""),host:this.string(""),climate_zone_id:this.string(""),climate_zone:this.belongsTo(g.Z,"climate_zone_id"),surface_cover_id:this.string(""),surface_cover:this.belongsTo(V.Z,"surface_cover_id"),surface_roughness_id:this.string(""),surface_roughness:this.belongsTo(b.Z,"surface_roughness_id"),topography_id:this.string(""),topography:this.belongsTo(W.Z,"topography_id"),season_id:this.string(""),season:this.belongsTo(w.Z,"season_id"),valid_from:this.string(""),valid_to:this.string(""),_version:this.number(null),_change_date:this.string(""),_user_id:this.string(""),_user:this.belongsTo(k.Z,"_user_id"),_status_id:this.string(""),_status:this.belongsTo(y.Z,"_status_id"),comments:this.string("")}}}(0,E.Z)(O,"entity","host_environment");var H=(0,l.aZ)({name:"HostEnvironmentForm",props:{},methods:{parseLinks(e){let t;return t=e&&e.length>0?JSON.stringify(e):"",t}},components:{VCard:a._,VCardTitle:r.E,VCardText:u.Z,VCardItem:m._,VTextField:d.hw,VSelect:c.r,VForm:p.O,VBtn:h.T,VueDatePicker:_.Z,LinkForm:f.Z},setup(){const e=(0,s.iH)([]),t=e=>{console.log("updating links"),T.value.links=e},n=(0,v.lL)(g.Z),o=(0,l.Fl)((()=>n.all())),i=(0,l.Fl)((()=>null!==T.value.climate_zone?"description"in T.value.climate_zone?T.value.climate_zone.description:"":"Select climate_zone")),a=(0,v.lL)(V.Z),r=(0,l.Fl)((()=>a.all())),u=(0,l.Fl)((()=>null!==T.value.surface_cover?"description"in T.value.surface_cover?T.value.surface_cover.description:"":"Select surface_cover")),m=(0,v.lL)(b.Z),d=(0,l.Fl)((()=>m.all())),c=(0,l.Fl)((()=>null!==T.value.surface_roughness?"description"in T.value.surface_roughness?T.value.surface_roughness.description:"":"Select surface_roughness")),p=(0,v.lL)(W.Z),h=(0,l.Fl)((()=>p.all())),f=(0,l.Fl)((()=>null!==T.value.topography?"description"in T.value.topography?T.value.topography.description:"":"Select topography")),_=(0,v.lL)(w.Z),E=(0,l.Fl)((()=>_.all())),H=(0,l.Fl)((()=>null!==T.value.season?"description"in T.value.season?T.value.season.description:"":"Select season")),C=(0,v.lL)(k.Z),U=(0,l.Fl)((()=>C.all())),Z=(0,l.Fl)((()=>null!==T.value._user?"description"in T.value._user?T.value._user.description:"":"Select user")),F=(0,v.lL)(y.Z),L=(0,l.Fl)((()=>F.all())),S=(0,l.Fl)((()=>null!==T.value._status?"description"in T.value._status?T.value._status.description:"":"Select status")),j=(0,v.lL)(O),T=(0,s.iH)(j.make()),z=async()=>{let e={};Object.assign(e,T.value),await j.save(e),x()},x=()=>{Object.assign(T.value,j.make())};return{hostEnvironment:T,createHostEnvironment:z,resetHostEnvironment:x,links:e,updateLinks:t,climateZoneOptions:o,climateZoneOptionsHint:i,surfaceCoverOptions:r,surfaceCoverOptionsHint:u,surfaceRoughnessOptions:d,surfaceRoughnessOptionsHint:c,topographyOptions:h,topographyOptionsHint:f,seasonOptions:E,seasonOptionsHint:H,userOptions:U,userOptionsHint:Z,statusOptions:L,statusOptionsHint:S}}}),C=n(89);const U=(0,C.Z)(H,[["render",i]]);var Z=U,F={name:"hostEnvironmentForm",components:{HostEnvironment:Z}};const L=(0,C.Z)(F,[["render",o]]);var S=L},1995:function(e,t,n){n.d(t,{Z:function(){return g}});var l=n(3396);function o(e,t,n,o,i,s){const a=(0,l.up)("v-card-title"),r=(0,l.up)("v-text-field"),u=(0,l.up)("v-col"),m=(0,l.up)("v-icon"),d=(0,l.up)("v-btn"),c=(0,l.up)("v-row"),p=(0,l.up)("v-container"),h=(0,l.up)("v-card"),v=(0,l.up)("v-form");return(0,l.wg)(),(0,l.j4)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Add / edit links")])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.links,((n,o)=>((0,l.wg)(),(0,l.j4)(h,{key:o},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{cols:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:n.rel,"onUpdate:modelValue":[e=>n.rel=e,t[0]||(t[0]=t=>e.value=t)],label:"rel",hint:"IANA link relation, e.g. canonical, alternate","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,l.Wm)(u,{cols:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:n.href,"onUpdate:modelValue":[e=>n.href=e,t[1]||(t[1]=t=>e.value=t)],label:"href",hint:"URL for link","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,l.Wm)(u,{cols:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:n.type,"onUpdate:modelValue":[e=>n.type=e,t[2]||(t[2]=t=>e.value=t)],label:"link type",hint:"Result/link type, e.g. text/html","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,l.Wm)(u,{cols:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:n.title,"onUpdate:modelValue":[e=>n.title=e,t[3]||(t[3]=t=>e.value=t)],label:"title",hint:"Title / name of link","persistent-hint":"",modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,l.Wm)(u,{cols:"1"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{color:"error",onClick:()=>e.removeLink(o)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-close")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,l.Wm)(d,{color:"green",onClick:e.addLink},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})}n(7658);var i=n(4870),s=n(6422),a=n(2900),r=n(3238),u=n(6572),m=n(870),d=n(3289),c=n(3369),p=n(6824),h=n(8521),v=(0,l.aZ)({name:"LinkForm",components:{VForm:s.O,VTextField:a.hw,VCard:r._,VCardTitle:u.E,VBtn:m.T,VIcon:d.t,VContainer:c.K,VRow:p.o,VCol:h.D},props:{links:{type:Array,required:!0}},emits:["updateLinks"],setup(e,t){const n=(0,i.iH)(""),o=(0,i.iH)(""),s=(0,i.iH)(e.links);(0,l.YP)((()=>e.links),(e=>{s.value="string"===typeof e?JSON.parse(e):e}),{immediate:!0,deep:!0}),(0,l.YP)((()=>s.value),(e=>{t.emit("updateLinks",e)}),{deep:!0});const a=()=>{s.value.push({rel:"",href:"",type:"",title:""})},r=e=>{s.value=s.value.filter(((t,n)=>n!==e))};return{name:n,description:o,location:location,links:s,addLink:a,removeLink:r}}}),f=n(89);const _=(0,f.Z)(v,[["render",o]]);var g=_},6422:function(e,t,n){n.d(t,{O:function(){return u}});var l=n(3396),o=n(4357),i=n(3185),s=n(4870),a=n(320),r=n(9888);const u=(0,a.ev)()({name:"VForm",props:{...(0,o.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:a}=t;const u=(0,o.Np)(e),m=(0,s.iH)();function d(e){e.preventDefault(),u.reset()}function c(e){const t=e,n=u.validate();t.then=n.then.bind(n),t.catch=n.catch.bind(n),t.finally=n.finally.bind(n),a("submit",t),t.defaultPrevented||n.then((e=>{let{valid:t}=e;t&&m.value?.submit()})),t.preventDefault()}return(0,r.L)((()=>(0,l.Wm)("form",{ref:m,class:"v-form",novalidate:!0,onReset:d,onSubmit:c},[n.default?.(u)]))),(0,i.F)(u,m)}})},8521:function(e,t,n){n.d(t,{D:function(){return h}});n(7658),n(8099);var l=n(1138),o=n(7139),i=n(3396),s=n(320);const a=["sm","md","lg","xl","xxl"],r=(()=>a.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),u=(()=>a.reduce(((e,t)=>(e["offset"+(0,o.kC)(t)]={type:[String,Number],default:null},e)),{}))(),m=(()=>a.reduce(((e,t)=>(e["order"+(0,o.kC)(t)]={type:[String,Number],default:null},e)),{}))(),d={col:Object.keys(r),offset:Object.keys(u),order:Object.keys(m)};function c(e,t,n){let l=e;if(null!=n&&!1!==n){if(t){const n=t.replace(e,"");l+=`-${n}`}return"col"===e&&(l="v-"+l),"col"!==e||""!==n&&!0!==n?(l+=`-${n}`,l.toLowerCase()):l.toLowerCase()}}const p=["auto","start","end","center","baseline","stretch"],h=(0,s.ev)()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...u,order:{type:[String,Number],default:null},...m,alignSelf:{type:String,default:null,validator:e=>p.includes(e)},...(0,l.Q)()},setup(e,t){let{slots:n}=t;const l=(0,i.Fl)((()=>{const t=[];let n;for(n in d)d[n].forEach((l=>{const o=e[l],i=c(n,l,o);i&&t.push(i)}));const l=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!l||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>(0,i.h)(e.tag,{class:l.value},n.default?.())}})}}]);
//# sourceMappingURL=7865.36fa2270.js.map