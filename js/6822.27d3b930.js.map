{"version":3,"file":"js/6822.27d3b930.js","mappings":"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","sources":["webpack://opencdms-app/./src/views/sensor.vue","webpack://opencdms-app/./src/web-components/sensor.vue","webpack://opencdms-app/./src/web-components/pickers/select-observer.vue","webpack://opencdms-app/./src/web-components/pickers/select-observer.vue?56a5","webpack://opencdms-app/./src/web-components/sensor.vue?525e","webpack://opencdms-app/./src/views/sensor.vue?1fed","webpack://opencdms-app/../../../src/components/VGrid/VCol.ts","webpack://opencdms-app/../../../src/components/VGrid/VRow.ts"],"sourcesContent":["<template>\n  <div>\n    <sensor title=\"sensor\" content=\"This page is under construction\" description=\"editable view of single sensor\" />\n  </div>\n</template>\n\n<script>\nimport Sensor from './../web-components/sensor.vue';\n\n\nexport default {\n  name: 'MyView',\n  components: {\n    Sensor,\n  },\n};\n</script>\n\n<style>\n</style>\n","<template>\n  <v-container>\n    <v-row>\n    <v-col :cols=\"12\">\n      <v-card>\n        <v-card-title>Select sensor</v-card-title>\n        <v-card-text><select-observer v-model=\"selectedObserver\"/></v-card-text>\n      </v-card>\n    </v-col>\n    </v-row>\n    <v-row>\n    </v-row>\n    <v-row>\n      <v-col :cols=\"6\">\n        <v-card>\n          <v-card-title>Sensor: {{ $route.params.id }}</v-card-title>\n            <v-card-item><v-card-text><pre>{{observer}}</pre></v-card-text></v-card-item>\n        </v-card>\n      </v-col>\n      <v-col :cols=\"6\" align-self=\"center\">\n        <feature-map :geom=\"geom\" id=\"map\" style=\"height: 400px;\"/>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col :cols=\"12\">\n        <v-card>\n          <v-card-title>Sensor characteristics</v-card-title>\n            <v-card-item><v-card-text><pre>{{observerCharacteristics}}</pre></v-card-text></v-card-item>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col :cols=\"12\">\n        <v-btn @click=\"edit\">Edit</v-btn>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { defineComponent, ref, watchEffect, computed, watch } from 'vue';\nimport { VCard, VCardTitle, VCardText, VCardItem, VTabs, VTab, VBtn, VAutocomplete } from 'vuetify/lib/components';\nimport { VContainer, VCol, VRow } from 'vuetify/lib/components';\nimport { onBeforeMount, onMounted, onBeforeUpdate, onUpdated, onBeforeUnmount, onUnmounted, onErrorCaptured} from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nimport {useRepo} from 'pinia-orm';\n\nimport FeatureMap from '@/web-components/maps/feature-map.vue'\n\nimport SelectObserver from '@/web-components/pickers/select-observer.vue';\n\n\n// opencdms imports\nimport Observer from '@/models/Observer';\nimport ObserverCharacteristics from '@/models/ObserverCharacteristics';\n\nexport default defineComponent({\n  name: 'sensor',\n  components: {\n    VCard,\n    VCardTitle,\n    VCardText,\n    VCardItem,\n    VTabs,\n    VTab,\n    VBtn,\n    VAutocomplete, VContainer, VCol, VRow,\n    FeatureMap,\n    SelectObserver\n  },\n  methods: {},\n  setup(props) {\n    // set up varaiables\n    const selectedObserver = ref(null)\n    const router = useRouter();\n    const geom = ref(null);\n    // set up repos\n    const observerRepo = useRepo(Observer);\n    const observerOptions = computed(() => { return observerRepo.all() });\n    const observer = ref(null)\n    const observerCharacteristics = ref(null)\n\n    const edit = () => {\n      router.push('/sensor/'+route.params.id+'/edit');\n    };\n\n    const fetchRecord = async(identifier) => {\n      // load selected observer\n      console.log(identifier);\n      observer.value = useRepo(Observer).where('id',route.params.id).first();\n      console.log(useRepo(Observer).all())\n      // load observer characteristics\n      observerCharacteristics.value = useRepo(ObserverCharacteristics).with('observed_property').with('observing_method').where('observer_id',route.params.id).first();\n    }\n\n    // add watch to update the geom\n    watch(observer, (newVal) => {\n      if( newVal ){\n        const coords = newVal.location.match(/POINT\\(([-\\d\\.]+)\\s+([-\\d\\.]+)\\)/);\n        const latlng = [parseFloat(coords[1]), parseFloat(coords[2])];\n        geom.value = {\n          type: 'Feature',\n          geometry: {\n            type: 'Point',\n            coordinates: latlng\n          }\n        }\n      }\n      console.log(geom.value)\n    });\n\n    const route = useRoute();\n    const data = ref([]);\n\n\n    onMounted( async() => {\n      fetchRecord( route.params.id );\n      watchEffect( () => {\n        fetchRecord( route.params.id );\n      });\n      watch( (selectedObserver), (data) => {\n        router.push('/sensor/'+data.id);\n      } )\n    });\n    onErrorCaptured( () => {});\n    return {observer, observerCharacteristics, observerOptions, selectedObserver, geom};\n  }\n\n});\n</script>\n","// component to select station\n<template>\n  <v-autocomplete :items=\"options\" item-title=\"id\" item-value=\"id\" label=\"observer\" v-model=\"selected\" :hint=\"selected ? selected.name : 'Select an observer'\" persistent-hint return-object/>\n</template>\n<script>\n  // load observer\n  import Observer from '@/models/Observer'\n  import {useRepo} from 'pinia-orm'\n  import {computed, defineComponent, ref, watch} from 'vue';\n  import {VAutocomplete} from 'vuetify/lib/components';\n  export default defineComponent({\n    name: \"SelectObserver\",\n    components: {\n      VAutocomplete\n    },\n    emits: [\"update:modelValue\"],\n    setup(props, {emit}) {\n      const selected = ref(null);\n      const options = computed( () => { return useRepo(Observer).all(); });\n      console.log( options );\n      const optionsHint = computed( () => {});\n      watch( () => selected.value, (newValue) => {\n        emit(\"update:modelValue\", newValue)\n      })\n      return {selected, options};\n    }\n  });\n</script>\n","import { render } from \"./select-observer.vue?vue&type=template&id=771d801d\"\nimport script from \"./select-observer.vue?vue&type=script&lang=js\"\nexport * from \"./select-observer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/opencdms-app/opencdms-app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./sensor.vue?vue&type=template&id=2ef7b27c\"\nimport script from \"./sensor.vue?vue&type=script&lang=js\"\nexport * from \"./sensor.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/opencdms-app/opencdms-app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./sensor.vue?vue&type=template&id=e609e3ce\"\nimport script from \"./sensor.vue?vue&type=script&lang=js\"\nexport * from \"./sensor.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/opencdms-app/opencdms-app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Styles\nimport './VGrid.sass'\n\n// Composables\nimport { makeTagProps } from '@/composables/tag'\n\n// Utilities\nimport { capitalize, computed, h } from 'vue'\nimport { genericComponent } from '@/util'\n\n// Types\nimport type { Prop, PropType } from 'vue'\n\nconst breakpoints = ['sm', 'md', 'lg', 'xl', 'xxl'] as const // no xs\n\nconst breakpointProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props[val] = {\n      type: [Boolean, String, Number],\n      default: false,\n    }\n    return props\n  }, {} as Record<string, Prop<boolean | string | number, false>>)\n})()\n\nconst offsetProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['offset' + capitalize(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Record<string, Prop<string | number, null>>)\n})()\n\nconst orderProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['order' + capitalize(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Record<string, Prop<string | number, null>>)\n})()\n\nconst propMap = {\n  col: Object.keys(breakpointProps),\n  offset: Object.keys(offsetProps),\n  order: Object.keys(orderProps),\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: boolean | string | number) {\n  let className: string = type\n  if (val == null || val === false) {\n    return undefined\n  }\n  if (prop) {\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  if (type === 'col') {\n    className = 'v-' + className\n  }\n  // Handling the boolean style prop when accepting [Boolean, String, Number]\n  // means Vue will not convert <v-col sm></v-col> to sm: true for us.\n  // Since the default is false, an empty string indicates the prop's presence.\n  if (type === 'col' && (val === '' || val === true)) {\n    // .v-col-md\n    return className.toLowerCase()\n  }\n  // .order-md-6\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst ALIGN_SELF_VALUES = ['auto', 'start', 'end', 'center', 'baseline', 'stretch'] as const\n\nexport const VCol = genericComponent()({\n  name: 'VCol',\n\n  props: {\n    cols: {\n      type: [Boolean, String, Number],\n      default: false,\n    },\n    ...breakpointProps,\n    offset: {\n      type: [String, Number],\n      default: null,\n    },\n    ...offsetProps,\n    order: {\n      type: [String, Number],\n      default: null,\n    },\n    ...orderProps,\n    alignSelf: {\n      type: String as PropType<typeof ALIGN_SELF_VALUES[number]>,\n      default: null,\n      validator: (str: any) => ALIGN_SELF_VALUES.includes(str),\n    },\n\n    ...makeTagProps(),\n  },\n\n  setup (props, { slots }) {\n    const classes = computed(() => {\n      const classList: any[] = []\n\n      // Loop through `col`, `offset`, `order` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string | number | boolean = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      const hasColClasses = classList.some(className => className.startsWith('v-col-'))\n\n      classList.push({\n        // Default to .v-col if no other col-{bp}-* classes generated nor `cols` specified.\n        'v-col': !hasColClasses || !props.cols,\n        [`v-col-${props.cols}`]: props.cols,\n        [`offset-${props.offset}`]: props.offset,\n        [`order-${props.order}`]: props.order,\n        [`align-self-${props.alignSelf}`]: props.alignSelf,\n      })\n\n      return classList\n    })\n\n    return () => h(props.tag, {\n      class: classes.value,\n    }, slots.default?.())\n  },\n})\n\nexport type VCol = InstanceType<typeof VCol>\n","// Styles\nimport './VGrid.sass'\n\n// Composables\nimport { makeTagProps } from '@/composables/tag'\n\n// Utilities\nimport { capitalize, computed, h } from 'vue'\nimport { genericComponent } from '@/util'\n\n// Types\nimport type { Prop, PropType } from 'vue'\n\nconst breakpoints = ['sm', 'md', 'lg', 'xl', 'xxl'] as const // no xs\n\nconst ALIGNMENT = ['start', 'end', 'center'] as const\n\nconst SPACE = ['space-between', 'space-around', 'space-evenly'] as const\n\nfunction makeRowProps <T> (prefix: string, def: () => Prop<T, null>) {\n  return breakpoints.reduce((props, val) => {\n    props[prefix + capitalize(val)] = def()\n    return props\n  }, {} as Record<string, Prop<T, null>>)\n}\n\nconst ALIGN_VALUES = [...ALIGNMENT, 'baseline', 'stretch'] as const\nconst alignValidator = (str: any) => ALIGN_VALUES.includes(str)\nconst alignProps = makeRowProps('align', () => ({\n  type: String as PropType<typeof ALIGN_VALUES[number]>,\n  default: null,\n  validator: alignValidator,\n}))\n\nconst JUSTIFY_VALUES = [...ALIGNMENT, ...SPACE] as const\nconst justifyValidator = (str: any) => JUSTIFY_VALUES.includes(str)\nconst justifyProps = makeRowProps('justify', () => ({\n  type: String as PropType<typeof JUSTIFY_VALUES[number]>,\n  default: null,\n  validator: justifyValidator,\n}))\n\nconst ALIGN_CONTENT_VALUES = [...ALIGNMENT, ...SPACE, 'stretch'] as const\nconst alignContentValidator = (str: any) => ALIGN_CONTENT_VALUES.includes(str)\nconst alignContentProps = makeRowProps('alignContent', () => ({\n  type: String as PropType<typeof ALIGN_CONTENT_VALUES[number]>,\n  default: null,\n  validator: alignContentValidator,\n}))\n\nconst propMap = {\n  align: Object.keys(alignProps),\n  justify: Object.keys(justifyProps),\n  alignContent: Object.keys(alignContentProps),\n}\n\nconst classMap = {\n  align: 'align',\n  justify: 'justify',\n  alignContent: 'align-content',\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: string) {\n  let className = classMap[type]\n  if (val == null) {\n    return undefined\n  }\n  if (prop) {\n    // alignSm -> Sm\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // .align-items-sm-center\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nexport const VRow = genericComponent()({\n  name: 'VRow',\n\n  props: {\n    dense: Boolean,\n    noGutters: Boolean,\n    align: {\n      type: String as PropType<typeof ALIGN_VALUES[number]>,\n      default: null,\n      validator: alignValidator,\n    },\n    ...alignProps,\n    justify: {\n      type: String as PropType<typeof ALIGN_CONTENT_VALUES[number]>,\n      default: null,\n      validator: justifyValidator,\n    },\n    ...justifyProps,\n    alignContent: {\n      type: String as PropType<typeof ALIGN_CONTENT_VALUES[number]>,\n      default: null,\n      validator: alignContentValidator,\n    },\n\n    ...alignContentProps,\n    ...makeTagProps(),\n  },\n\n  setup (props, { slots }) {\n    const classes = computed(() => {\n      const classList: any[] = []\n\n      // Loop through `align`, `justify`, `alignContent` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      classList.push({\n        'v-row--no-gutters': props.noGutters,\n        'v-row--dense': props.dense,\n        [`align-${props.align}`]: props.align,\n        [`justify-${props.justify}`]: props.justify,\n        [`align-content-${props.alignContent}`]: props.alignContent,\n      })\n\n      return classList\n    })\n\n    return () => h(props.tag, {\n      class: ['v-row', classes.value],\n    }, slots.default?.())\n  },\n})\n\nexport type VRow = InstanceType<typeof VRow>\n"],"names":["_createElementBlock","_createVNode","_component_sensor","title","content","description","_createBlock","_component_v_container","_component_v_row","_component_v_col","cols","_component_v_card","_component_v_card_title","_component_v_card_text","_component_select_observer","_ctx","params","id","_component_v_card_item","_createElementVNode","_component_feature_map","geom","style","_component_v_btn","onClick","_component_v_autocomplete","items","label","hint","name","defineComponent","components","VAutocomplete","emits","setup","props","emit","selected","ref","options","computed","useRepo","Observer","all","console","log","watch","value","newValue","__exports__","VCard","VCardTitle","VCardText","VCardItem","VTabs","VTab","VBtn","VContainer","VCol","VRow","FeatureMap","SelectObserver","methods","selectedObserver","router","useRouter","observerRepo","observerOptions","observer","observerCharacteristics","fetchRecord","async","identifier","where","route","first","ObserverCharacteristics","with","newVal","coords","location","match","latlng","parseFloat","type","geometry","coordinates","useRoute","onMounted","watchEffect","data","push","onErrorCaptured","Sensor","render","breakpoints","breakpointProps","reduce","val","Boolean","String","Number","default","offsetProps","capitalize","orderProps","propMap","col","Object","keys","offset","order","breakpointClass","prop","className","breakpoint","replace","toLowerCase","ALIGN_SELF_VALUES","genericComponent","alignSelf","validator","str","includes","makeTagProps","slots","classes","classList","forEach","hasColClasses","some","startsWith","h","tag","class","ALIGNMENT","SPACE","makeRowProps","prefix","def","ALIGN_VALUES","alignValidator","alignProps","JUSTIFY_VALUES","justifyValidator","justifyProps","ALIGN_CONTENT_VALUES","alignContentValidator","alignContentProps","align","justify","alignContent","classMap","dense","noGutters"],"sourceRoot":""}