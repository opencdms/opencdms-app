"use strict";(self["webpackChunkopencdms_app"]=self["webpackChunkopencdms_app"]||[]).push([[8445],{8445:function(e,t,l){l.r(t),l.d(t,{default:function(){return L}});var a=l(3396);function n(e,t,l,n,u,r){const i=(0,a.up)("Feature",!0);return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i)])}function u(e,t,l,n,u,r){const i=(0,a.up)("v-card-title"),s=(0,a.up)("v-text-field"),o=(0,a.up)("v-card-item"),m=(0,a.up)("LinkForm"),d=(0,a.up)("v-select"),p=(0,a.up)("VueDatePicker"),f=(0,a.up)("v-form"),c=(0,a.up)("v-btn"),V=(0,a.up)("v-card-text"),_=(0,a.up)("v-card");return(0,a.wg)(),(0,a.j4)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Create new 'Feature'")])),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"id",modelValue:e.feature.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.feature.id=t),hint:"ID / primary key","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"name",modelValue:e.feature.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.feature.name=t),hint:"Name of feature","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"description",modelValue:e.feature.description,"onUpdate:modelValue":t[2]||(t[2]=t=>e.feature.description=t),hint:"Description of feature","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{links:e.links,onUpdateLinks:e.updateLinks},null,8,["links","onUpdateLinks"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{items:e.featureTypeOptions,"item-title":"name","item-value":"id",label:"feature_type",modelValue:e.feature.feature_type,"onUpdate:modelValue":t[3]||(t[3]=t=>e.feature.feature_type=t),hint:e.featureTypeOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"geometry",modelValue:e.feature.geometry,"onUpdate:modelValue":t[4]||(t[4]=t=>e.feature.geometry=t),hint:"","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"elevation",modelValue:e.feature.elevation,"onUpdate:modelValue":t[5]||(t[5]=t=>e.feature.elevation=t),type:"number",hint:"Meam elevation of feature above mean sea level","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{items:e.featureOptions,"item-title":"name","item-value":"id",label:"feature",modelValue:e.feature.parent,"onUpdate:modelValue":t[6]||(t[6]=t=>e.feature.parent=t),hint:e.featureOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"properties",modelValue:e.feature.properties,"onUpdate:modelValue":t[7]||(t[7]=t=>e.feature.properties=t),hint:"Array of named values consistent with that defined for the feature type","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"_version",modelValue:e.feature._version,"onUpdate:modelValue":t[8]||(t[8]=t=>e.feature._version=t),type:"number",hint:"Version number of this record","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{label:"_change_date",modelValue:e.feature._change_date,"onUpdate:modelValue":t[9]||(t[9]=t=>e.feature._change_date=t),hint:"Date this record was changed","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{items:e.userOptions,"item-title":"name","item-value":"id",label:"user",modelValue:e.feature._user,"onUpdate:modelValue":t[10]||(t[10]=t=>e.feature._user=t),hint:e.userOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{items:e.statusOptions,"item-title":"name","item-value":"id",label:"status",modelValue:e.feature._status,"onUpdate:modelValue":t[11]||(t[11]=t=>e.feature._status=t),hint:e.statusOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"comments",modelValue:e.feature.comments,"onUpdate:modelValue":t[12]||(t[12]=t=>e.feature.comments=t),hint:"Free text comments on this record, for example description of changes made etc","persistent-hint":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(c,{onClick:e.createFeature},{default:(0,a.w5)((()=>[(0,a.Uk)("Create Feature")])),_:1},8,["onClick"])])),_:1})])),_:1})}l(774);var r=l(4870),i=l(3238),s=l(6572),o=l(1888),m=l(1209),d=l(2900),p=l(240),f=l(6422),c=l(870),V=l(3968),_=l(1995),h=l(5708),v=l(3108),W=l(5868),w=l(9597),b=l(2815),k=(0,a.aZ)({name:"FeatureForm",props:{},methods:{parseLinks(e){let t;return t=e&&e.length>0?JSON.stringify(e):"",t}},components:{VCard:i._,VCardTitle:s.E,VCardText:o.Z,VCardItem:m._,VTextField:d.hw,VSelect:p.r,VForm:f.O,VBtn:c.T,VueDatePicker:h.Z,LinkForm:_.Z},setup(){const e=(0,r.iH)([]),t=e=>{console.log("updating links"),h.value.links=e},l=(0,V.lL)(v.Z),n=(0,a.Fl)((()=>l.all())),u=(0,a.Fl)((()=>null!==h.value.feature_type?"description"in h.value.feature_type?h.value.feature_type.description:"":"Select feature_type")),i=(0,V.lL)(W.Z),s=(0,a.Fl)((()=>i.all())),o=(0,a.Fl)((()=>null!==h.value.parent?"description"in h.value.parent?h.value.parent.description:"":"Select feature")),m=(0,V.lL)(w.Z),d=(0,a.Fl)((()=>m.all())),p=(0,a.Fl)((()=>null!==h.value._user?"description"in h.value._user?h.value._user.description:"":"Select user")),f=(0,V.lL)(b.Z),c=(0,a.Fl)((()=>f.all())),_=(0,a.Fl)((()=>null!==h.value._status?"description"in h.value._status?h.value._status.description:"":"Select status")),h=(0,r.iH)(i.make()),k=async()=>{let e={};Object.assign(e,h.value),await i.save(e),F()},F=()=>{Object.assign(h.value,i.make())};return{feature:h,createFeature:k,resetFeature:F,links:e,updateLinks:t,featureTypeOptions:n,featureTypeOptionsHint:u,featureOptions:s,featureOptionsHint:o,userOptions:d,userOptionsHint:p,statusOptions:c,statusOptionsHint:_}}}),F=l(89);const y=(0,F.Z)(k,[["render",u]]);var O=y,U={name:"featureForm",components:{Feature:O}};const g=(0,F.Z)(U,[["render",n]]);var L=g}}]);
//# sourceMappingURL=8445.0c386966.js.map