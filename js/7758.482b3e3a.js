"use strict";(self["webpackChunkopencdms_app"]=self["webpackChunkopencdms_app"]||[]).push([[7758],{3625:function(e,t,i){i.d(t,{Z:function(){return a}});var n=i(7327),l=i(3968),o=i(2407),s=i(9597),r=i(2815);class a extends l.Hn{static fields(){return{id:this.string(""),name:this.string(""),links:this.attr(new o.Z([])),_version:this.number(null),_change_date:this.string(""),_user_id:this.string(""),_user:this.belongsTo(s.Z,"_user_id"),_status_id:this.string(""),_status:this.belongsTo(r.Z,"_status_id"),comments:this.string("")}}}(0,n.Z)(a,"entity","collection")},6902:function(e,t,i){i.d(t,{Z:function(){return u}});var n=i(7327),l=i(3968),o=i(2407),s=i(9947),r=i(9597),a=i(2815);class u extends l.Hn{static fields(){return{id:this.string(""),name:this.string(""),description:this.string(""),links:this.attr(new o.Z([])),location:this.string(""),elevation:this.number(null),manufacturer:this.string(""),model:this.string(""),serial_number:this.string(""),firmware_version:this.string(""),control_schedule_id:this.string(""),control_schedule:this.belongsTo(s.Z,"control_schedule_id"),_version:this.number(null),_change_date:this.string(""),_user_id:this.string(""),_user:this.belongsTo(r.Z,"_user_id"),_status_id:this.string(""),_status:this.belongsTo(a.Z,"_status_id"),comments:this.string("")}}}(0,n.Z)(u,"entity","observer")},4484:function(e,t,i){i.d(t,{Z:function(){return u}});var n=i(7327),l=i(3968),o=i(2407),s=i(6544),r=i(9597),a=i(2815);class u extends l.Hn{static fields(){return{id:this.string(""),name:this.string(""),description:this.string(""),source_type_id:this.string(""),source_type:this.belongsTo(s.Z,"source_type_id"),links:this.attr(new o.Z([])),processor:this.string(""),_version:this.number(null),_change_date:this.string(""),_user_id:this.string(""),_user:this.belongsTo(r.Z,"_user_id"),_status_id:this.string(""),_status:this.belongsTo(a.Z,"_status_id"),comments:this.string("")}}}(0,n.Z)(u,"entity","source")},7758:function(e,t,i){i.r(t),i.d(t,{default:function(){return P}});var n=i(3396);function l(e,t,i,l,o,s){const r=(0,n.up)("Observation",!0);return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(r)])}function o(e,t,i,l,o,s){const r=(0,n.up)("v-card-title"),a=(0,n.up)("v-text-field"),u=(0,n.up)("v-card-item"),d=(0,n.up)("v-select"),m=(0,n.up)("VueDatePicker"),p=(0,n.up)("v-form"),v=(0,n.up)("v-btn"),_=(0,n.up)("v-card-text"),b=(0,n.up)("v-card");return(0,n.wg)(),(0,n.j4)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Create new 'Observation'")])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"id",modelValue:e.observation.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.observation.id=t),hint:"ID / primary key","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"location",modelValue:e.observation.location,"onUpdate:modelValue":t[1]||(t[1]=t=>e.observation.location=t),hint:"Location of observation","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"elevation",modelValue:e.observation.elevation,"onUpdate:modelValue":t[2]||(t[2]=t=>e.observation.elevation=t),type:"number",hint:"Elevation of observation above mean sea level (in meters)","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.observationTypeOptions,"item-title":"name","item-value":"id",label:"observation_type",modelValue:e.observation.observation_type,"onUpdate:modelValue":t[3]||(t[3]=t=>e.observation.observation_type=t),hint:e.observationTypeOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{label:"phenomenon_start",modelValue:e.observation.phenomenon_start,"onUpdate:modelValue":t[4]||(t[4]=t=>e.observation.phenomenon_start=t),hint:"Start time of the phenomenon being observed or observing period, if missing assumed instantaneous with time given by phenomenon_end","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{label:"phenomenon_end",modelValue:e.observation.phenomenon_end,"onUpdate:modelValue":t[5]||(t[5]=t=>e.observation.phenomenon_end=t),hint:"End time of the phenomenon being observed or observing period","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"result_value",modelValue:e.observation.result_value,"onUpdate:modelValue":t[6]||(t[6]=t=>e.observation.result_value=t),type:"number",hint:"The value of the result in float representation","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"result_uom",modelValue:e.observation.result_uom,"onUpdate:modelValue":t[7]||(t[7]=t=>e.observation.result_uom=t),hint:"Units used to represent the value being observed","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"result_description",modelValue:e.observation.result_description,"onUpdate:modelValue":t[8]||(t[8]=t=>e.observation.result_description=t),hint:"str representation of the result if applicable","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"result_quality",modelValue:e.observation.result_quality,"onUpdate:modelValue":t[9]||(t[9]=t=>e.observation.result_quality=t),hint:"JSON representation of the result quality, key / value pairs","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{label:"result_time",modelValue:e.observation.result_time,"onUpdate:modelValue":t[10]||(t[10]=t=>e.observation.result_time=t),hint:"Time that the result became available","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{label:"valid_from",modelValue:e.observation.valid_from,"onUpdate:modelValue":t[11]||(t[11]=t=>e.observation.valid_from=t),hint:"Time that the result starts to be valid","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{label:"valid_to",modelValue:e.observation.valid_to,"onUpdate:modelValue":t[12]||(t[12]=t=>e.observation.valid_to=t),hint:"Time after which the result is no longer valid","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.hostOptions,"item-title":"name","item-value":"id",label:"host",modelValue:e.observation.host,"onUpdate:modelValue":t[13]||(t[13]=t=>e.observation.host=t),hint:e.hostOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.observerOptions,"item-title":"name","item-value":"id",label:"observer",modelValue:e.observation.observer,"onUpdate:modelValue":t[14]||(t[14]=t=>e.observation.observer=t),hint:e.observerOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.observedPropertyOptions,"item-title":"name","item-value":"id",label:"observed_property",modelValue:e.observation.observed_property,"onUpdate:modelValue":t[15]||(t[15]=t=>e.observation.observed_property=t),hint:e.observedPropertyOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.observingProcedureOptions,"item-title":"name","item-value":"id",label:"observing_procedure",modelValue:e.observation.observing_procedure,"onUpdate:modelValue":t[16]||(t[16]=t=>e.observation.observing_procedure=t),hint:e.observingProcedureOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.collectionOptions,"item-title":"name","item-value":"id",label:"collection",modelValue:e.observation.collection,"onUpdate:modelValue":t[17]||(t[17]=t=>e.observation.collection=t),hint:e.collectionOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"parameter",modelValue:e.observation.parameter,"onUpdate:modelValue":t[18]||(t[18]=t=>e.observation.parameter=t),hint:"List of key/ value pairs in dict","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.featureOptions,"item-title":"name","item-value":"id",label:"feature",modelValue:e.observation.feature,"onUpdate:modelValue":t[19]||(t[19]=t=>e.observation.feature=t),hint:e.featureOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"_version",modelValue:e.observation._version,"onUpdate:modelValue":t[20]||(t[20]=t=>e.observation._version=t),type:"number",hint:"Version number of this record","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{label:"_change_date",modelValue:e.observation._change_date,"onUpdate:modelValue":t[21]||(t[21]=t=>e.observation._change_date=t),hint:"Date this record was changed","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.userOptions,"item-title":"name","item-value":"id",label:"user",modelValue:e.observation._user,"onUpdate:modelValue":t[22]||(t[22]=t=>e.observation._user=t),hint:e.userOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.statusOptions,"item-title":"name","item-value":"id",label:"status",modelValue:e.observation._status,"onUpdate:modelValue":t[23]||(t[23]=t=>e.observation._status=t),hint:e.statusOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"comments",modelValue:e.observation.comments,"onUpdate:modelValue":t[24]||(t[24]=t=>e.observation.comments=t),hint:"Free text comments on this record, for example description of changes made etc","persistent-hint":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{items:e.sourceOptions,"item-title":"name","item-value":"id",label:"source",modelValue:e.observation._source,"onUpdate:modelValue":t[25]||(t[25]=t=>e.observation._source=t),hint:e.sourceOptionsHint,"return-object":"","persistent-hint":""},null,8,["items","modelValue","hint"])])),_:1}),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a,{label:"_source_identifier",modelValue:e.observation._source_identifier,"onUpdate:modelValue":t[26]||(t[26]=t=>e.observation._source_identifier=t),hint:"The original identifier for the record from the data source","persistent-hint":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(v,{onClick:e.createObservation},{default:(0,n.w5)((()=>[(0,n.Uk)("Create Observation")])),_:1},8,["onClick"])])),_:1})])),_:1})}i(774);var s=i(4870),r=i(3238),a=i(6572),u=i(1888),d=i(6596),m=i(2900),p=i(240),v=i(6422),_=i(870),b=i(3968),h=i(1995),c=i(8394),g=i(3193),f=i(5206),V=i(6902),W=i(2302),O=i(2001),y=i(3625),w=i(5868),Z=i(9597),T=i(2815),U=i(4484),F=i(7327);i(2407);class H extends b.Hn{static fields(){return{id:this.string(""),location:this.string(""),elevation:this.number(null),observation_type_id:this.string(""),observation_type:this.belongsTo(g.Z,"observation_type_id"),phenomenon_start:this.string(""),phenomenon_end:this.string(""),result_value:this.number(null),result_uom:this.string(""),result_description:this.string(""),result_quality:this.attr(null),result_time:this.string(""),valid_from:this.string(""),valid_to:this.string(""),host_id:this.string(""),host:this.belongsTo(f.Z,"host_id"),observer_id:this.string(""),observer:this.belongsTo(V.Z,"observer_id"),observed_property_id:this.string(""),observed_property:this.belongsTo(W.Z,"observed_property_id"),observing_procedure_id:this.string(""),observing_procedure:this.belongsTo(O.Z,"observing_procedure_id"),collection_id:this.string(""),collection:this.belongsTo(y.Z,"collection_id"),parameter:this.attr(null),feature_id:this.string(""),feature:this.belongsTo(w.Z,"feature_id"),_version:this.number(null),_change_date:this.string(""),_user_id:this.string(""),_user:this.belongsTo(Z.Z,"_user_id"),_status_id:this.string(""),_status:this.belongsTo(T.Z,"_status_id"),comments:this.string(""),_source_id:this.string(""),_source:this.belongsTo(U.Z,"_source_id"),_source_identifier:this.string("")}}}(0,F.Z)(H,"entity","observation");var k=(0,n.aZ)({name:"ObservationForm",props:{},methods:{parseLinks(e){let t;return t=e&&e.length>0?JSON.stringify(e):"",t}},components:{VCard:r._,VCardTitle:a.E,VCardText:u.Z,VCardItem:d._,VTextField:m.hw,VSelect:p.r,VForm:v.O,VBtn:_.T,VueDatePicker:c.Z,LinkForm:h.Z},setup(){const e=(0,s.iH)([]),t=e=>{console.log("updating links"),K.value.links=e},i=(0,b.lL)(g.Z),l=(0,n.Fl)((()=>i.all())),o=(0,n.Fl)((()=>null!==K.value.observation_type?"description"in K.value.observation_type?K.value.observation_type.description:"":"Select observation_type")),r=(0,b.lL)(f.Z),a=(0,n.Fl)((()=>r.all())),u=(0,n.Fl)((()=>null!==K.value.host?"description"in K.value.host?K.value.host.description:"":"Select host")),d=(0,b.lL)(V.Z),m=(0,n.Fl)((()=>d.all())),p=(0,n.Fl)((()=>null!==K.value.observer?"description"in K.value.observer?K.value.observer.description:"":"Select observer")),v=(0,b.lL)(W.Z),_=(0,n.Fl)((()=>v.all())),h=(0,n.Fl)((()=>null!==K.value.observed_property?"description"in K.value.observed_property?K.value.observed_property.description:"":"Select observed_property")),c=(0,b.lL)(O.Z),F=(0,n.Fl)((()=>c.all())),k=(0,n.Fl)((()=>null!==K.value.observing_procedure?"description"in K.value.observing_procedure?K.value.observing_procedure.description:"":"Select observing_procedure")),L=(0,b.lL)(y.Z),S=(0,n.Fl)((()=>L.all())),j=(0,n.Fl)((()=>null!==K.value.collection?"description"in K.value.collection?K.value.collection.description:"":"Select collection")),x=(0,b.lL)(w.Z),C=(0,n.Fl)((()=>x.all())),P=(0,n.Fl)((()=>null!==K.value.feature?"description"in K.value.feature?K.value.feature.description:"":"Select feature")),q=(0,b.lL)(Z.Z),D=(0,n.Fl)((()=>q.all())),E=(0,n.Fl)((()=>null!==K.value._user?"description"in K.value._user?K.value._user.description:"":"Select user")),I=(0,b.lL)(T.Z),J=(0,n.Fl)((()=>I.all())),N=(0,n.Fl)((()=>null!==K.value._status?"description"in K.value._status?K.value._status.description:"":"Select status")),B=(0,b.lL)(U.Z),z=(0,n.Fl)((()=>B.all())),A=(0,n.Fl)((()=>null!==K.value._source?"description"in K.value._source?K.value._source.description:"":"Select source")),G=(0,b.lL)(H),K=(0,s.iH)(G.make()),M=async()=>{let e={};Object.assign(e,K.value),await G.save(e),Q()},Q=()=>{Object.assign(K.value,G.make())};return{observation:K,createObservation:M,resetObservation:Q,links:e,updateLinks:t,observationTypeOptions:l,observationTypeOptionsHint:o,hostOptions:a,hostOptionsHint:u,observerOptions:m,observerOptionsHint:p,observedPropertyOptions:_,observedPropertyOptionsHint:h,observingProcedureOptions:F,observingProcedureOptionsHint:k,collectionOptions:S,collectionOptionsHint:j,featureOptions:C,featureOptionsHint:P,userOptions:D,userOptionsHint:E,statusOptions:J,statusOptionsHint:N,sourceOptions:z,sourceOptionsHint:A}}}),L=i(89);const S=(0,L.Z)(k,[["render",o]]);var j=S,x={name:"observationForm",components:{Observation:j}};const C=(0,L.Z)(x,[["render",l]]);var P=C}}]);
//# sourceMappingURL=7758.482b3e3a.js.map